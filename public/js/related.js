const relatedProducts = [
  {
    nombre: "BLACK COFFEE",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-1.webp",
    link: "/product/black-coffee",
  },
  {
    nombre: "COW PRINT",
    precio: "21.000 ₡",
    imagen: "/images/swimwears/swimwear-2.webp",
    link: "/product/cow-print",
  },
  {
    nombre: "TURQUOISE",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-3.webp",
    link: "/product/turquoise",
  },
  {
    nombre: "BLUE CAPITAN",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-4.webp",
    link: "/product/blue-capitan",
  },
  {
    nombre: "EARTH",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-5.webp",
    link: "/product/earth",
  },
  {
    nombre: "MALIBU",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-6.webp",
    link: "/product/malibu",
  },
  {
    nombre: "AQUA",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-7.webp",
    link: "/product/aqua",
  },
  {
    nombre: "LILAC",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-8.webp",
    link: "/product/lilac",
  },
  {
    nombre: "FAIRY FLOSS",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-9.webp",
    link: "/product/fairyFloss",
  },
  {
    nombre: "CLOUDY",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-10.webp",
    link: "/product/cloudy",
  },
  {
    nombre: "BLUSH",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-11.webp",
    link: "/product/blush",
  },
  {
    nombre: "CANDY",
    precio: "32.500 ₡",
    imagen: "/images/swimwears/swimwear-12.webp",
    link: "/product/candy",
  },
  {
    nombre: "LOLLIE",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-13.webp",
    link: "/product/lollie",
  },
  {
    nombre: "RED WINE",
    precio: "32.500 ₡",
    imagen: "/images/swimwears/swimwear-14.webp",
    link: "/product/redWine",
  },
  {
    nombre: "SNAKE PRINT",
    precio: "21.000 ₡",
    imagen: "/images/swimwears/swimwear-15.webp",
    link: "/product/snakePrint",
  },
  {
    nombre: "HEART OF OCEAN",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-16.jpeg",
    link: "/product/heartOfOcean",
  },
  {
    nombre: "BUBBLE GUM KIINI",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-17.jpeg",
    link: "/product/bubblegum",
  },
  {
    nombre: "MARSHMALLOW",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-18.jpeg",
    link: "/product/marshmallow",
  },
  {
    nombre: "VINTAGE SUMMER",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-19.jpeg",
    link: "/product/vintageSummer",
  },
  {
    nombre: "CHERRY",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-20.jpeg",
    link: "/product/cherry",
  },
  {
    nombre: "NAVY BLUE",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-21.jpeg",
    link: "/product/navyBlue",
  },
  {
    nombre: "LEOPARD KIINI",
    precio: "30.000 ₡",
    imagen: "/images/swimwears/swimwear-22.jpeg",
    link: "/product/leopard",
  },

  // ===== JUMPSUITS =====
  {
    nombre: "KIINI ONE PIECE",
    precio: "33.500 ₡",
    imagen: "/images/jumpsuits/jumpsuit-1.webp",
    link: "/product/onePiece",
  },
  {
    nombre: "TULUM",
    precio: "33.500 ₡",
    imagen: "/images/jumpsuits/jumpsuit-2.webp",
    link: "/product/tulum",
  },
  {
    nombre: "BLOOM",
    precio: "33.500 ₡",
    imagen: "/images/jumpsuits/jumpsuit-3.webp",
    link: "/product/bloom",
  },

  // ===== CROCHETS =====

  {
    nombre: "DAISY BIKINI",
    precio: "33.500 ₡",
    imagen: "/images/crochets/crochet-1.jpeg",
    link: "/product/daisyBikini",
  },
  {
    nombre: "SCARLETT BIKINI",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-2.jpeg",
    link: "/product/scarlettBikini",
  },
  {
    nombre: "SORBET LIME",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-3.jpeg",
    link: "/product/sorbetLime",
  },
  {
    nombre: "SORBET PINK",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-4.jpeg",
    link: "/product/sorbetPink",
  },
  {
    nombre: "SORBET BUBBLEGUM",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-5.jpeg",
    link: "/product/sorbetBubblegum",
  },
  {
    nombre: "COOKIE",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-6.jpeg",
    link: "/product/cookie",
  },
  {
    nombre: "SANTORINI",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-7.jpeg",
    link: "/product/santorini",
  },
  {
    nombre: "APHRODITE",
    precio: "33.500 ₡",
    imagen: "/images/crochets/crochet-8.jpeg",
    link: "/product/aphrodite",
  },
  {
    nombre: "CHERRY",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-9.jpeg",
    link: "/product/cherry",
  },
  {
    nombre: "BDAY CAKE",
    precio: "30.000 ₡",
    imagen: "/images/crochets/crochet-10.jpeg",
    link: "/product/bdayCake",
  },

  // ===== SETS =====
  {
    nombre: "Rosé set",
    precio: "35.000 ₡",
    imagen: "/images/sets/set-1.jpg",
    link: "/product/rose",
  },
  {
    nombre: "Catalina set",
    precio: "35,000 ₡",
    imagen: "/images/sets/set-2.jpg",
    link: "/product/catalina",
  },
  {
    nombre: "Isla blanca",
    precio: "35,000 ₡",
    imagen: "/images/sets/set-3.jpg",
    link: "/product/islaBlanca",
  },
  {
    nombre: "Selena set",
    precio: "35.000 ₡",
    imagen: "/images/sets/set-4.jpeg",
    link: "/product/selena",
  },
];

const container = document.getElementById("macy-container");
const RELATED_LIMIT = 3;

function shuffleArray(array) {
  return [...array].sort(() => Math.random() - 0.5);
}

function generateProducts() {
  if (!container) return;

  container.innerHTML = "";

  const currentPath = window.location.pathname;

  const filteredProducts = relatedProducts.filter(
    (product) => product.link !== currentPath
  );

  // Mezclar y tomar los primeros N productos
  const randomProducts = shuffleArray(filteredProducts).slice(0, RELATED_LIMIT);

  randomProducts.forEach((product) => {
    const item = document.createElement("div");
    item.className = "news-item-wrapper w-dyn-item";

    item.innerHTML = `
      <a href="${product.link}" class="shop-item-link wiggle w-inline-block">
        <div class="shop-thumb-wrap">
          <img 
            alt="${product.nombre}"
            loading="eager"
            src="${product.imagen}"
            class="shop-thumb-img is-main"
            sizes="(max-width: 479px) 43vw, (max-width: 991px) 45vw, 30vw"
          />
        </div>

        <div class="margin-top-s">
          <div class="text-style-h3">${product.nombre}</div>

          <div class="prices-wrap">
            <div class="text-style-h3 is-price">${product.precio}</div>
          </div>
        </div>
      </a>
    `;

    container.appendChild(item);
  });
}

generateProducts();
